(this.webpackJsonpCeloCharityApp=this.webpackJsonpCeloCharityApp||[]).push([[0],{1043:function(e,t){},1207:function(e,t){},1215:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(85),c=a.n(i),o=(a(482),a(1)),l=a.n(o),s=a(45),u=a(15),m=a(17),p=a(30),d=a(23),f=a(31),y=a(123),g=a(463),b=a(464),h=a(146),E=a.n(h),w=function(){return new Promise(function(){var e=Object(s.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.celo){e.next=13;break}return e.prev=1,e.next=4,window.celo.enable();case 4:n=new E.a(window.celo),t(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Fail to inject web3 from wallet extension");case 11:e.next=14;break;case 13:alert("Celo Extension Wallet is not found, you need to install it to use this DApp..");case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}())},v=a(467),x=a(24);a(996);function C(e){var t=e.campaignList,a=e.createCampaign;return r.a.createElement(r.a.Fragment,null,t,a)}var T=a(20),j=a(37),D=a.n(j),O=a(124),k=a(468),S=a(469),N=a(210),F=a(71),A=a(122);function L(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")}function B(e){var t=e.bookmarked,a=e.contract,i=e.flag,c=Object(n.useState)([]),o=Object(T.a)(c,2),u=o[0],m=o[1],p=Object(n.useState)(!1),d=Object(T.a)(p,2),f=d[0],y=d[1],g=Object(n.useState)(!1),b=Object(T.a)(g,2),h=b[0],E=b[1];Object(n.useEffect)((function(){var e=[],n=[];function i(){return(i=Object(s.a)(l.a.mark((function i(){var c,o,u;return l.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("true"!==t){i.next=7;break}return i.next=3,a.methods.getBookmarkedCampaignIDs().call();case 3:i.sent.forEach((function(e){var t=new Promise(function(){var t=Object(s.a)(l.a.mark((function t(n,r){var i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.methods.getCampaign(e).call();case 2:i=t.sent,n({index:i[1],owner:i[0],name:i[2],image:"https://gungz.infura-ipfs.io/ipfs/".concat(i[3]),description:i[4],goal:new D.a(i[5]),closedDate:new Date(1e3*i[6]),closedDateStr:L(new Date(1e3*i[6])),closed:i[7],goalReached:i[8],donationWithdrawn:i[9]});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());n.push(t)})),i.next=13;break;case 7:return i.next=9,a.methods.getCampaignsLength().call();case 9:for(c=i.sent,console.log(c),o=function(e){var t=new Promise(function(){var t=Object(s.a)(l.a.mark((function t(n,r){var i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.methods.getCampaign(e).call();case 2:i=t.sent,n({index:i[1],owner:i[0],name:i[2],image:"https://gungz.infura-ipfs.io/ipfs/".concat(i[3]),description:i[4],goal:new D.a(i[5]),closedDate:new Date(1e3*i[6]),closedDateStr:L(new Date(1e3*i[6])),closed:i[7],goalReached:i[8],donationWithdrawn:i[9]});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());n.push(t)},u=0;u<c;u++)o(u);case 13:if(!(n.length>0)){i.next=17;break}return i.next=16,Promise.all(n);case 16:e=i.sent;case 17:m(e.map((function(e){return r.a.createElement(N.a,null,r.a.createElement(O.a,{className:"h-100"},r.a.createElement(O.a.Img,{variant:"top",src:e.image}),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,e.name),r.a.createElement(O.a.Subtitle,{className:"mb-2 text-muted"},"Closed on "+e.closedDateStr),r.a.createElement(O.a.Text,null,e.description),r.a.createElement(A.Link,{to:"campaign/"+e.index},"See Detail"))))}))),E(!0);case 19:case"end":return i.stop()}}),i)})))).apply(this,arguments)}!function(){i.apply(this,arguments)}()}),[t,i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{show:f,onHide:function(){y(!1)}},r.a.createElement(F.a.Header,{closeButton:!0},r.a.createElement(F.a.Title,null,"Add Campaign")),r.a.createElement(F.a.Body,null),r.a.createElement(F.a.Footer,null)),u.length>0&&r.a.createElement(k.a,null,r.a.createElement(S.a,{xs:1,md:2,lg:3,className:"g-4"},u)),0===u.length&&!0===h&&r.a.createElement("div",{className:"alert alert-info"},!0===t?"No donation campaign has been bookmarked.":"No donation campaign has been created."))}var W=a(470),M=a(38),I=a(472),P=function(e){var t=Object(x.x)().id,a=e.contract,i=e.account,c=e.cUSDContract,o=Object(n.useState)(null),u=Object(T.a)(o,2),m=u[0],p=u[1],d=Object(n.useState)(0),f=Object(T.a)(d,2),g=f[0],b=f[1],h=Object(n.useState)(0),w=Object(T.a)(h,2),v=w[0],C=w[1],j=Object(n.useState)(!1),O=Object(T.a)(j,2),F=O[0],A=O[1],B=Object(n.useState)(!1),W=Object(T.a)(B,2),P=W[0],z=W[1],R=Object(n.useState)(!1),U=Object(T.a)(R,2),_=U[0],G=U[1],q=Object(n.useState)(!1),H=Object(T.a)(q,2),J=H[0],V=H[1],Y=Object(n.useState)(!1),K=Object(T.a)(Y,2),Z=K[0],$=K[1];Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise(function(){var e=Object(s.a)(l.a.mark((function e(n,r){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.methods.getCampaign(t).call();case 2:i=e.sent,n({index:i[1],owner:i[0],name:i[2],image:"https://gungz.infura-ipfs.io/ipfs/".concat(i[3]),description:i[4],goal:new D.a(i[5]),closedDate:new Date(1e3*i[6]),closedDateStr:L(new Date(1e3*i[6])),closed:i[7],goalReached:i[8],donationWithdrawn:i[9]});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),e.t0=p,e.next=4,n;case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[Z]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise(function(){var e=Object(s.a)(l.a.mark((function e(n,r){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.methods.getCampaignDonation(t).call();case 2:i=e.sent,n(i);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),e.t0=b,e.next=4,n;case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[J,Z]);var Q=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,a.methods.closeCampaign(m.index).send({from:i});case 3:e.sent,z(!1),$(!Z);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t.currentTarget.checkValidity()){e.next=6;break}t.preventDefault(),t.stopPropagation(),e.next=18;break;case 6:return t.preventDefault(),A(!0),n=E.a.utils.toWei(v.toString(),"ether"),e.next=11,c.methods.approve("0x091ABa742e8c4014C6A3110d6aC3df7712B01377",n).send({from:i});case 11:return e.sent,e.next=14,a.methods.makeDonation(m.index,n).send({from:i});case 14:e.sent,C(0),A(!1),V(!J);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.next=3,a.methods.withdrawDonation(m.index).send({from:i});case 3:e.sent,G(!1),$(!Z);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(k.a,{className:"mt-1",fluid:!0},r.a.createElement(S.a,null,r.a.createElement(N.a,{xs:12,className:"text-center"},r.a.createElement("h3",null,m.name))),r.a.createElement(S.a,null,r.a.createElement(N.a,{xs:12,sm:4,className:"text-center"},r.a.createElement("img",{src:m.image,alt:"Attribute",className:"img-fluid rounded mx-auto d-block"})),r.a.createElement(N.a,{xs:12,sm:8},r.a.createElement(S.a,null,r.a.createElement(N.a,{xs:3},r.a.createElement("h6",null,"Campaign Description:")),r.a.createElement(N.a,{xs:9},r.a.createElement("h6",{style:{fontWeight:300,whiteSpace:"pre-wrap"}},m.description))),r.a.createElement(S.a,null,r.a.createElement(N.a,{xs:3},r.a.createElement("h6",null,"Campaign Goal:")),r.a.createElement(N.a,{xs:9},r.a.createElement("h6",{style:{fontWeight:300}},m.goal/Math.pow(10,18)," cUSD"))),r.a.createElement(S.a,null,r.a.createElement(N.a,{xs:3},r.a.createElement("h6",null,"Campaign Closed Date:")),r.a.createElement(N.a,{xs:9},r.a.createElement("h6",{style:{fontWeight:300}},m.closedDateStr))),r.a.createElement(S.a,null,r.a.createElement(N.a,{xs:3},r.a.createElement("h6",null,"Campaign Status:")),r.a.createElement(N.a,{xs:9},r.a.createElement("h6",{style:{fontWeight:300}},!0===m.closed?"Closed":"Open"))),r.a.createElement(S.a,{className:"mt-3"},r.a.createElement(N.a,{xs:9,className:"text-center"},r.a.createElement("h5",null,"So far, people have donated ",g/Math.pow(10,18)," cUSD"))),!1===m.closed&&r.a.createElement(M.a,{onSubmit:X},r.a.createElement(S.a,{className:"mt-3"},r.a.createElement(N.a,{xs:3},r.a.createElement(M.a.Label,null,r.a.createElement("h6",null,"Donation Amount"))),r.a.createElement(N.a,{xs:2},r.a.createElement(M.a.Control,{type:"number",min:1,value:v,onChange:function(e){var t=parseInt(e.target.value,10);C(t)}})),r.a.createElement(N.a,{xs:1},r.a.createElement(M.a.Label,null,r.a.createElement("h6",null,"cUSD"))),r.a.createElement(N.a,{xs:2},m.owner!==i&&r.a.createElement(y.a,{variant:"primary",type:"submit",disabled:F},F&&r.a.createElement(I.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),F?"Loading...":"Donate")))),m.owner===i&&new Date>=m.closedDate&&!0!==m.closed&&r.a.createElement(S.a,{className:"mt-3"},r.a.createElement(N.a,{xs:9,className:"text-center"},r.a.createElement(y.a,{variant:"danger",disabled:P,onClick:Q},P&&r.a.createElement(I.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),P?"Loading...":"Close Campaign"))),m.owner===i&&new Date>=m.closedDate&&!0===m.closed&&!1===m.donationWithdrawn&&r.a.createElement(S.a,{className:"mt-3"},r.a.createElement(N.a,{xs:9,className:"text-center"},r.a.createElement(y.a,{variant:"secondary",disabled:_,onClick:ee},_&&r.a.createElement(I.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),_?"Loading...":"Withdraw Donation"))),!0===m.donationWithdrawn&&r.a.createElement(S.a,{className:"mt-3"},r.a.createElement(N.a,{xs:9,className:"text-center"},r.a.createElement("h5",null,"Donation has been withdrawn by Campaign Owner")))))))},z=a(473),R=a(172),U=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={flag:!1,web3:null,accounts:null,contract:null,account:null,kit:null,cUSDContract:null},a.updateFlag=function(){console.log("update flag"),a.setState({flag:!a.state.flag})},a.login=Object(s.a)(l.a.mark((function e(){var t,n,r,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:return t=e.sent,n=Object(v.newKitFromWeb3)(t),e.next=7,n.web3.eth.getAccounts();case 7:r=e.sent,n.defaultAccount=r[0],n.connection.defaultAccount=r[0],i=new n.web3.eth.Contract(g,"0x091ABa742e8c4014C6A3110d6aC3df7712B01377"),c=new n.web3.eth.Contract(b,"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1"),a.setState({web3:t,accounts:r,contract:i,account:n.defaultAccount,kit:n,cUSDContract:c}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),alert("Failed to load web3, accounts, or contract. Check console for details."),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),a.logout=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.celo.isConnected())try{(t=a.state.kit).connection.stop(),t.defaultAccount=null,t.connection.defaultAccount=null,a.setState({web3:null,accounts:null,contract:null,account:null})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)}))),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){if(!this.state.web3)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10 text-center mt-1"},"Please login with your Celo Wallet to use this app"),r.a.createElement("div",{className:"col-md-2 text-end mt-1"},r.a.createElement(y.a,{variant:"primary",size:"sm",className:"me-2",onClick:this.login},"Login with Celo Wallet"))));var e=r.a.createElement(B,{bookmarked:"false",contract:this.state.contract,flag:this.state.flag}),t=r.a.createElement(W.a,{contract:this.state.contract,account:this.state.account,updateFlag:this.updateFlag});return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{variant:"tabs"},r.a.createElement(R.a.Item,null,r.a.createElement(z.LinkContainer,{to:"/celo-charity-campaign"},r.a.createElement(R.a.Link,null,"All Campaigns"))),r.a.createElement(R.a.Item,{className:"ms-auto mt-auto mb-auto me-2 small"},r.a.createElement("strong",null,"Your Account: ")," ",this.state.account,r.a.createElement(y.a,{variant:"secondary",size:"sm",className:"ms-3 me-2",onClick:this.logout},"Logout"))),r.a.createElement(x.f,null,r.a.createElement(x.d,{path:"",element:r.a.createElement(C,{campaignList:e,createCampaign:t})}),r.a.createElement(x.d,{path:"/campaign/:id",element:r.a.createElement(P,{contract:this.state.contract,account:this.state.account,cUSDContract:this.state.cUSDContract})})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(A.BrowserRouter,{basename:"/celo-charity-campaign"},r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},463:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"campaignId","type":"uint256"}],"name":"CampaignClosed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"campaignId","type":"uint256"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"CampaignCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"campaignId","type":"uint256"},{"indexed":true,"internalType":"address","name":"donor","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"DonationMade","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"campaignId","type":"uint256"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"DonationWithdrawn","type":"event"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"closeCampaign","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_image","type":"string"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_goal","type":"uint256"},{"internalType":"uint256","name":"_campaignClosedDate","type":"uint256"}],"name":"createCampaign","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getCampaign","outputs":[{"components":[{"internalType":"address payable","name":"owner","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"image","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"goal","type":"uint256"},{"internalType":"uint256","name":"campaignClosedDate","type":"uint256"},{"internalType":"bool","name":"closed","type":"bool"},{"internalType":"bool","name":"goalReached","type":"bool"},{"internalType":"bool","name":"donationWithdrawn","type":"bool"}],"internalType":"struct DonationCampaigns.Campaign","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getCampaignDonation","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCampaignsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"},{"internalType":"uint256","name":"donation","type":"uint256"}],"name":"makeDonation","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"withdrawDonation","outputs":[],"stateMutability":"payable","type":"function"}]')},464:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},470:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return h}));var n=a(1),r=a.n(n),i=a(45),c=a(20),o=a(0),l=a.n(o),s=a(71),u=a(123),m=a(38),p=a(472),d=a(146),f=a.n(d),y=a(471),g="Basic "+e.from("2DLlLDgTZicckBjUJorHmz7ia0j:3a5c00aebe085181798ab2f156e33cb2").toString("base64"),b=Object(y.create)({host:"ipfs.infura.io",port:5001,protocol:"https",headers:{authorization:g}});function h(e){var t=e.contract,a=e.account,n=e.updateFlag,d=Object(o.useState)(!1),y=Object(c.a)(d,2),g=y[0],h=y[1],E=Object(o.useState)(!1),w=Object(c.a)(E,2),v=w[0],x=w[1],C=Object(o.useState)(!1),T=Object(c.a)(C,2),j=T[0],D=T[1],O=Object(o.useRef)(null),k=Object(o.useRef)(null),S=Object(o.useRef)(null),N=Object(o.useRef)(null),F=Object(o.useRef)(null),A=function(){var e=Object(i.a)(r.a.mark((function e(i){var c,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==i.currentTarget.checkValidity()){e.next=7;break}i.preventDefault(),i.stopPropagation(),x(!0),e.next=21;break;case 7:return i.preventDefault(),D(!0),e.next=11,b.add(F.current.files[0]);case 11:return c=e.sent,o=f.a.utils.toWei(S.current.value,"ether"),e.next=15,t.methods.createCampaign(O.current.value,c.path,k.current.value,o,Math.floor(new Date(N.current.value).getTime()/1e3)).send({from:a});case 15:l=e.sent,console.log(l),h(!1),D(!1),x(!1),n();case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){h(!1),x(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"col-md-12 text-center mt-3"},l.a.createElement(u.a,{variant:"primary",onClick:function(){return h(!0)}},"Add Donation Campaign"))),l.a.createElement(s.a,{show:g,onHide:L},l.a.createElement(s.a.Header,{closeButton:!0},l.a.createElement(s.a.Title,null,"Add Campaign")),l.a.createElement(s.a.Body,null,l.a.createElement(m.a,{noValidate:!0,validated:v,onSubmit:A},l.a.createElement(m.a.Group,{className:"mb-3",controlId:"formBasicName"},l.a.createElement(m.a.Label,null,"Campaign Name"),l.a.createElement(m.a.Control,{type:"text",placeholder:"Enter Campaign Name",required:!0,ref:O}),l.a.createElement(m.a.Control.Feedback,{type:"invalid"},"Please provide a campaign name.")),l.a.createElement(m.a.Group,{className:"mb-3",controlId:"formBasicDescription"},l.a.createElement(m.a.Label,null,"Campaign Description"),l.a.createElement(m.a.Control,{as:"textarea",rows:5,placeholder:"Enter Campaign Description",required:!0,ref:k}),l.a.createElement(m.a.Control.Feedback,{type:"invalid"},"Please provide a campaign description.")),l.a.createElement(m.a.Group,{className:"mb-3",controlId:"formBasicGoal"},l.a.createElement(m.a.Label,null,"Campaign Goal (in cUSD)"),l.a.createElement(m.a.Control,{type:"number",className:"w-50",required:!0,step:"0.1",ref:S}),l.a.createElement(m.a.Control.Feedback,{type:"invalid"},"Please provide a campaign goal.")),l.a.createElement(m.a.Group,{className:"mb-3",controlId:"formBasicClosingDate"},l.a.createElement(m.a.Label,null,"Campaign Closing Date"),l.a.createElement(m.a.Control,{type:"date",className:"w-50",required:!0,min:(new Date).toISOString().split("T")[0],ref:N}),l.a.createElement(m.a.Control.Feedback,{type:"invalid"},"Please provide a closing date.")),l.a.createElement(m.a.Group,{className:"mb-3",controlId:"formBasicImage"},l.a.createElement(m.a.Label,null,"Campaign Image"),l.a.createElement(m.a.Control,{type:"file",required:!0,accept:".jpg,.jpeg,.png",ref:F}),l.a.createElement(m.a.Control.Feedback,{type:"invalid"},"Please provide image file.")),l.a.createElement(u.a,{variant:"primary",type:"submit",disabled:j},j&&l.a.createElement(p.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),j?"Loading...":"Submit"))),l.a.createElement(s.a.Footer,null,l.a.createElement(u.a,{variant:"secondary",onClick:L,disabled:j},"Close"))))}}).call(this,a(2).Buffer)},477:function(e,t,a){e.exports=a(1215)},482:function(e,t,a){},494:function(e,t){},495:function(e,t){},497:function(e,t){},501:function(e,t){},502:function(e,t){},526:function(e,t){},528:function(e,t){},537:function(e,t){},539:function(e,t){},586:function(e,t){},587:function(e,t){},592:function(e,t){},606:function(e,t){},669:function(e,t){},702:function(e,t){},781:function(e,t){},815:function(e,t){},820:function(e,t){},849:function(e,t){},872:function(e,t){},878:function(e,t){},897:function(e,t){},942:function(e,t){},996:function(e,t,a){}},[[477,1,2]]]);
//# sourceMappingURL=main.ba500a87.chunk.js.map